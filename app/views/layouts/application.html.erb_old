<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title><%= h(yield(:title) || "Untitled") %></title>
    <%= stylesheet_link_tag 'application' %>

    <%= javascript_include_tag 'three' %>

    <!--
    <%= javascript_include_tag 'canvas3d/scene' %>
    <%= javascript_include_tag 'canvas3d/vec3' %>
    <%= javascript_include_tag 'canvas3d/matrix3' %>
    <%= javascript_include_tag 'canvas3d/camera' %>
    <%= javascript_include_tag 'canvas3d/mesh' %>
    <%= javascript_include_tag 'canvas3d/light' %>
    <%= javascript_include_tag 'canvas3d/setup' %>
    -->
    
    <%#= javascript_include_tag :all %>
    
    <%= yield(:head) %>
  </head>
  <body>
    <div id="container">
      <div id="user_nav">
        <% if current_user %>
          <%= link_to "New Script", new_script_path %> |
          <%= link_to "Edit Profile", edit_user_path(:current) %> |
          <%= link_to "Logout", logout_path %>
        <% else %>
          <%= link_to "Register", new_user_path %> |
          <%= link_to "Login", login_path %>
        <% end %>
      </div>

      <div id="header">
        <h1><%= link_to "CloudSCAD", root_path %></h1>
      </div>
      
      <%- flash.each do |name, msg| -%>
        <%= content_tag :div, msg, :id => "flash_#{name}" %>
      <%- end -%>
      
      <%- if show_title? -%>
        <h1><%=h yield(:title) %></h1>
      <%- end -%>
      
      <%= yield %>
    </div>
    <br class="clear"/>
  </body>
</html>
